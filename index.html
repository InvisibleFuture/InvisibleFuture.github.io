<!DOCTYPE html>
<meta charset="utf-8">
<title>Team</title>

<div id="app">
	<router-link to="/private">private</router-link>
	<router-link to="/foo">Go to Foo</router-link>
	<router-link to="/bar">Go to Bar</router-link>
	<!-- 路由匹配到的组件将渲染在这里 -->
	<router-view></router-view>
	<!-- 技术攻关 进度 -->
</div>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<script>
	Vue.component('sources', {
		template: `<ul class="source"><li v-for="source in sources"><span v-text="source.name"></span></li></ul>`,
		data: function () { return { sources: [{ id: '323', name: 'asyam', detail: 'ams' }] } }
	})
	Vue.component('ideas', {
		template: `<ul class="idea"><li v-for="idea in ideas"><span v-text="idea.name"></span></li></ul>`,
		data: function () { return { ideas: [{ id: '323', name: '自动化', detail: 'ams' }, { id: '323', name: '数控车床', detail: 'ams' }, { id: '323', name: '弹夹', detail: 'ams' }] } }
	})
	Vue.component('users', {
		template: `<ul class="users"><li v-for="user in users"><span v-text="user.name"></span><span v-text="user.email"></span><span v-text="user.coordinate"></span></li></ul>`,
		data: function () { return { users: [{ id: '123', name: 'Last', email: 'Last@max.exp', coordinate: '奧林帕斯山' }] } }
	})
	Vue.component('guilds', {
		template: `<ul class="guilds"><li v-for="item in list"><router-link :to="'p'+item.id"><span v-text="item.name"></span></router-link></li></ul>`,
		data: function () { return { list: [{ id: '122', name: '项目组' }] } }
	})
	Vue.component('projects', {
		template: `<ul class="projects"><li v-for="item in list"><router-link :to="'p'+item.id"><span v-text="item.name"></span></router-link></li></ul>`,
		data: function () { return { list: [{ id: '122', name: '项目组' }] } }
	})
	Vue.component('tasks', {
		template: `<ul class="tasks"><li v-for="item in list"><span v-text="item.name"></span></li></ul>`,
		data: function () { return { list: [{ id: '122', name: 'task' }] } }
	})
	Vue.component('issues', {
		template: `<ul class="issues"><li v-for="item in list"><span v-text="item.name"></span></li></ul>`,
		data: function () { return { list: [{ id: '122', name: 'issue' }] } }
	})

	const Home = { template: '<main><sources/><ideas/><users/><projects/></main>' }
	const Idea = { template: '<main>aaaaaa</main>' }
	const Project = { template: '<main><tasks/><users/><issues/> issue user -- aaaaaassssssss</main>' }
	const Private = { template: '<main><tasks/><issues/>私有 列 task 源 集合 项 集合 组 交互 个体 交互 关注集 收藏集 参与集</main>' }
	const Foo = { template: '<div>foo</div>' }
	const Bar = { template: '<div>bar</div>' }

	const router = new VueRouter({
		mode: 'hash', // hash | history
		routes: [
			{ path: '/', component: Home },
			{ path: '/foo', component: Foo },
			{ path: '/bar', component: Bar },
			{ path: '/i:id', component: Idea },
			{ path: '/private', component: Private },
			{ path: '/p:id', component: Project },
		]
	})

	var app = new Vue({
		router,
		el: '#app',
		data: {
			msg: 'you will'
		}
	})
	/*
	正在看的 属于关注的, 在信息改变时 发送通知
	断开会话或是切换会话时, 终止连接计数 不再发送通知
	分类 标签?
	*/
</script>
